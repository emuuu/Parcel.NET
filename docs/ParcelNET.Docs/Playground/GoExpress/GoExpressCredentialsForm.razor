@namespace ParcelNET.Docs.Playground.GoExpress

<div class="row g-2">
    <div class="col-md-6">
        <label class="form-label small mb-0">Username</label>
        <input type="text" class="form-control form-control-sm" value="@Credentials.Username"
               @oninput="e => { Credentials.Username = e.Value?.ToString() ?? string.Empty; OnChanged.InvokeAsync(); }" />
    </div>
    <div class="col-md-6">
        <label class="form-label small mb-0">Password</label>
        <div class="input-group input-group-sm">
            <input type="@(_showPassword ? "text" : "password")" class="form-control form-control-sm" value="@Credentials.Password"
                   @oninput="e => { Credentials.Password = e.Value?.ToString() ?? string.Empty; OnChanged.InvokeAsync(); }" />
            <button class="btn btn-outline-secondary" type="button" @onclick="() => _showPassword = !_showPassword">
                @(_showPassword ? "Hide" : "Show")
            </button>
        </div>
    </div>
    <div class="col-md-6">
        <label class="form-label small mb-0">Customer ID</label>
        <input type="text" class="form-control form-control-sm" value="@Credentials.CustomerId"
               @oninput="e => { Credentials.CustomerId = e.Value?.ToString() ?? string.Empty; OnChanged.InvokeAsync(); }" />
    </div>
    <div class="col-md-6">
        <label class="form-label small mb-0">Responsible Station (optional)</label>
        <input type="text" class="form-control form-control-sm" value="@Credentials.ResponsibleStation"
               @oninput="e => { Credentials.ResponsibleStation = e.Value?.ToString() ?? string.Empty; OnChanged.InvokeAsync(); }"
               placeholder="e.g. FRA" />
    </div>
</div>
<div class="small text-muted mt-1">
    Credentials are stored in-memory only and discarded when you close this tab.
</div>

@code {
    [Parameter, EditorRequired] public GoExpressCredentials Credentials { get; set; } = new();
    [Parameter] public EventCallback OnChanged { get; set; }

    private bool _showPassword;
}
